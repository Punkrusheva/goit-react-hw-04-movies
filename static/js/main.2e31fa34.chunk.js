(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{17:function(e,t,a){e.exports={headerMenu:"Navigation_headerMenu__2NH40",navLink:"Navigation_navLink__13_G6",navLinkActive:"Navigation_navLinkActive__3GmwT"}},20:function(e,t,a){e.exports={cast:"Cast_cast__2Tqdi",img:"Cast_img__28ipk",character:"Cast_character__6ATty"}},22:function(e,t,a){e.exports={searchForm:"SearchBox_searchForm__1GTwO",button:"SearchBox_button__2DzUs",buttonLabel:"SearchBox_buttonLabel__aHCVU",input:"SearchBox_input__2wXTn"}},23:function(e,t,a){e.exports={reviews:"Reviews_reviews__1I-yc",author:"Reviews_author__1gWuQ"}},25:function(e,t,a){e.exports={title:"HomePage_title__1oJBL",moviesList:"HomePage_moviesList__C1CSP"}},31:function(e,t,a){e.exports={title:"MoviesPage_title__1nKGO",moviesList:"MoviesPage_moviesList__-Z-vR",linkBack:"MoviesPage_linkBack__2r9IO"}},45:function(e,t,a){e.exports={layout:"Layout_layout__1LQN3"}},5:function(e,t,a){e.exports={details:"MovieDetailsPage_details__1dV5k",detailsMenu:"MovieDetailsPage_detailsMenu__sZT03",detailsLink:"MovieDetailsPage_detailsLink__YWn37",detailsLinkActive:"MovieDetailsPage_detailsLinkActive__1NsC-",img:"MovieDetailsPage_img__2Yxek",title:"MovieDetailsPage_title__1tg9r",score:"MovieDetailsPage_score__11gwH",overview:"MovieDetailsPage_overview__Ejqdv",genres:"MovieDetailsPage_genres__1jaCi",linkBack:"MovieDetailsPage_linkBack__2l7lG"}},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),c=a(24),r=a.n(c),i=a(7),o=a(2),l=a(17),u=a.n(l),h={home:"/",moviesPage:"/movies",movieDetailsPage:"/movies/:movieId",cast:"/movies/:movieId/cast",reviews:"/movies/:movieId/reviews"},v=function(){return Object(n.jsxs)("ul",{className:u.a.headerMenu,children:[Object(n.jsx)("li",{className:u.a.headerMenuItem,children:Object(n.jsx)(i.c,{exact:!0,to:h.home,className:u.a.navLink,activeClassName:u.a.navLinkActive,children:"Home"})}),Object(n.jsx)("li",{className:u.a.headerMenuItem,children:Object(n.jsx)(i.c,{to:h.moviesPage,className:u.a.navLink,activeClassName:u.a.navLinkActive,children:"Movies"})})]})},d=a(45),m=a.n(d);function j(e){var t=e.children;return Object(n.jsxs)("div",{className:m.a.layout,children:[Object(n.jsx)(v,{}),Object(n.jsx)("hr",{}),t]})}j.defaultProps={title:"",children:""};var p=j,b=a(4),f=a.n(b),O=a(15),x=a(10),_=a(11),g=a(13),k=a(12),y=a(16),w=a.n(y),N=a(25),C=a.n(N),M=function(e){Object(g.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={movies:[]},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=892c9b9f1c704261a0f515abd746d990");case 2:t=e.sent,this.setState({movies:t.data.results});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onClick",value:function(e){console.log("Click",e.target.innerHTML)}},{key:"render",value:function(){var e=this.state.movies;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:C.a.title,children:"Trending today"}),Object(n.jsx)("ul",{className:C.a.moviesList,children:e.map((function(e){return Object(n.jsx)("li",{className:C.a.item,children:Object(n.jsx)(i.b,{to:"movies/".concat(e.id),children:e.title})},e.id)}))})]})}}]),a}(s.Component),L=a(32),S=a(31),P=a.n(S),D=a(22),A=a.n(D),I=a(19),B=(a(42),function(e){Object(g.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={value:""},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.value?(e.props.onSubmit(e.state.value),e.setState({value:""})):I.b.error("Empty request")},e}return Object(_.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("form",{className:A.a.searchForm,onSubmit:this.handleSubmit,children:[Object(n.jsx)("input",{type:"text",name:"search",autoComplete:"off",autoFocus:!0,onChange:this.handleChange,value:this.state.value,className:A.a.input,placeholder:"Search movies"}),Object(n.jsx)("button",{type:"submit",className:A.a.button,children:Object(n.jsx)("span",{className:A.a.label,"aria-label":"Search",children:"Search"})})]})}}]),a}(s.Component)),F=a(46),q=a.n(F);function G(e){return q.a.parse(e)}var R=function(e){Object(g.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={searchResult:[]},e.handleChangeQuery=function(t){e.props.history.push(Object(L.a)(Object(L.a)({},e.props.location),{},{search:"query=".concat(t)}))},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=G(this.props.location.search),!(a=t.query)){e.next=6;break}return e.next=4,w.a.get("https://api.themoviedb.org/3/search/movie?api_key=892c9b9f1c704261a0f515abd746d990&query=".concat(a));case 4:n=e.sent,this.setState({searchResult:n.data.results});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(O.a)(f.a.mark((function e(t,a){var n,s,c,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=G(t.location.search),s=n.query,c=G(this.props.location.search),r=c.query,s===r){e.next=10;break}return e.next=5,w.a.get("https://api.themoviedb.org/3/search/movie?api_key=892c9b9f1c704261a0f515abd746d990&query=".concat(r));case 5:if(i=e.sent,this.setState({searchResult:i.data.results}),0!==this.state.searchResult.length){e.next=10;break}return I.b.error("Nothing found"),e.abrupt("return");case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.searchResult;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(B,{onSubmit:this.handleChangeQuery}),t.length>0?Object(n.jsx)("ul",{className:P.a.moviesList,children:t.map((function(t){return Object(n.jsx)("li",{className:P.a.item,children:Object(n.jsx)(i.b,{to:{pathname:"movies/".concat(t.id),state:{from:e.props.location}},children:t.title})},t.id)}))}):null,Object(n.jsx)(I.a,{autoClose:2e3})]})}}]),a}(s.Component),T=a(47),H=a(20),Q=a.n(H),U=function(e){Object(g.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={credits:""},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,w.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=892c9b9f1c704261a0f515abd746d990"));case 3:a=e.sent,this.setState({credits:a.data.cast});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.credits;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("hr",{}),e.length>0&&Object(n.jsx)("ul",{className:Q.a.cast,children:e.map((function(e){return Object(n.jsxs)("li",{className:Q.a.item,children:[Object(n.jsx)("img",{className:Q.a.img,src:"https://image.tmdb.org/t/p/w500/".concat(e.profile_path,"?api_key=892c9b9f1c704261a0f515abd746d990"),alt:e.name}),Object(n.jsx)("div",{className:Q.a.name,children:e.name}),Object(n.jsxs)("div",{className:Q.a.character,children:["Character: ",e.character]}),Object(n.jsx)("hr",{})]},e.id)}))})]})}}]),a}(s.Component),E=a(23),J=a.n(E),W=function(e){Object(g.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={reviews:""},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,w.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=892c9b9f1c704261a0f515abd746d990"));case 3:a=e.sent,this.setState({reviews:a.data.results});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reviews;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("hr",{}),e.length>0&&Object(n.jsx)("ul",{className:J.a.reviews,children:e.map((function(e){return Object(n.jsxs)("li",{className:J.a.item,children:[Object(n.jsxs)("div",{className:J.a.author,children:["Author: ",e.author]}),Object(n.jsx)("div",{className:J.a.content,children:e.content}),Object(n.jsx)("hr",{})]},e.id)}))}),0===e.length&&Object(n.jsx)("p",{children:"We don't have any reviews for this movie"})]})}}]),a}(s.Component),V=a(5),Y=a.n(V),Z=function(e){Object(g.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={movieId:"",img:"",data:"",title:"",vote_average:"",overview:0,genres:"",loading:!1},e.handleGoBack=function(){var t=e.props.location.state;if(t&&t.from)return e.props.history.push(t.from);e.props.history.push(h.shows)},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,w.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=892c9b9f1c704261a0f515abd746d990"));case 3:a=e.sent,this.setState({img:"https://image.tmdb.org/t/p/w500/".concat(a.data.poster_path,"?api_key=892c9b9f1c704261a0f515abd746d990")}),this.setState({data:a.data.release_date.slice(0,4),title:a.data.title,vote_average:10*a.data.vote_average,overview:a.data.overview,genres:a.data.genres.map((function(e){return e.name+" "}))});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,a=e.title,s=e.vote_average,c=e.overview,r=e.genres,l=e.img;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("button",{className:Y.a.linkBack,onClick:this.handleGoBack,children:[Object(n.jsx)(T.a,{}),"Go back"]}),Object(n.jsx)("br",{}),a&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("img",{className:Y.a.img,src:l,alt:a}),Object(n.jsxs)("div",{className:Y.a.details,children:[Object(n.jsxs)("h1",{className:Y.a.title,children:[a," (",t,")"]}),Object(n.jsxs)("div",{className:Y.a.score,children:["User Score: ",s,"%"]}),Object(n.jsx)("div",{className:Y.a.overview,children:"Overview"}),Object(n.jsx)("p",{children:c}),Object(n.jsx)("div",{className:Y.a.genres,children:"Genres"}),Object(n.jsx)("p",{children:r})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h2",{children:"Additional information"}),Object(n.jsxs)("ul",{className:Y.a.detailsMenu,children:[Object(n.jsx)("li",{className:Y.a.detailsMenuItem,children:Object(n.jsx)(i.c,{exact:!0,to:"".concat(this.props.match.url,"/cast"),className:Y.a.detailsLink,activeClassName:Y.a.detailsLinkActive,children:"Cast"})}),Object(n.jsx)("li",{className:Y.a.detailsMenuItem,children:Object(n.jsx)(i.c,{to:"".concat(this.props.match.url,"/reviews"),className:Y.a.detailsLink,activeClassName:Y.a.detailsLinkActive,children:"Reviews"})})]}),Object(n.jsx)(o.b,{path:h.cast,component:U}),Object(n.jsx)(o.b,{path:h.reviews,component:W})]})]})}}]),a}(s.Component),z=(a(89),a(90),function(){return Object(n.jsx)(p,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:h.home,exact:!0,component:M}),Object(n.jsx)(o.b,{path:h.moviesPage,exact:!0,component:R}),Object(n.jsx)(o.b,{path:h.movieDetailsPage,component:Z}),Object(n.jsx)(o.a,{to:h.home})]})})});r.a.render(Object(n.jsx)(i.a,{children:Object(n.jsx)(z,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.2e31fa34.chunk.js.map